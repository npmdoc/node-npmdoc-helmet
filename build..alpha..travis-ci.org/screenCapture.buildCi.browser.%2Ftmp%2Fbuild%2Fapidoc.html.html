<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://helmetjs.github.io/">helmet (v3.5.0)</a>
</h1>
<h4>help secure Express/Connect apps with various HTTP headers</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.helmet">module helmet</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.helmet">
            function <span class="apidocSignatureSpan"></span>helmet
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.contentSecurityPolicy">
            function <span class="apidocSignatureSpan">helmet.</span>contentSecurityPolicy
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.dnsPrefetchControl">
            function <span class="apidocSignatureSpan">helmet.</span>dnsPrefetchControl
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.frameguard">
            function <span class="apidocSignatureSpan">helmet.</span>frameguard
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.hidePoweredBy">
            function <span class="apidocSignatureSpan">helmet.</span>hidePoweredBy
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.hpkp">
            function <span class="apidocSignatureSpan">helmet.</span>hpkp
            <span class="apidocSignatureSpan">(passedOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.hsts">
            function <span class="apidocSignatureSpan">helmet.</span>hsts
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.ieNoOpen">
            function <span class="apidocSignatureSpan">helmet.</span>ieNoOpen
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.noCache">
            function <span class="apidocSignatureSpan">helmet.</span>noCache
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.noSniff">
            function <span class="apidocSignatureSpan">helmet.</span>noSniff
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.referrerPolicy">
            function <span class="apidocSignatureSpan">helmet.</span>referrerPolicy
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.helmet.xssFilter">
            function <span class="apidocSignatureSpan">helmet.</span>xssFilter
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.helmet" id="apidoc.module.helmet">module helmet</a></h1>


    <h2>
        <a href="#apidoc.element.helmet.helmet" id="apidoc.element.helmet.helmet">
        function <span class="apidocSignatureSpan"></span>helmet
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function helmet(options) {
  options = options || {}

  var chain = connect()

  middlewares.forEach(function (middlewareName) {
    var middleware = helmet[middlewareName]
    var option = options[middlewareName]
    var isDefault = config.defaultMiddleware.indexOf(middlewareName) !== -1

    if (option === false) { return }

    if (option != null) {
      if (option === true) {
        chain.use(middleware({}))
      } else {
        chain.use(middleware(option))
      }
    } else if (isDefault) {
      chain.use(middleware({}))
    }
  })

  return chain
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.helmet.contentSecurityPolicy" id="apidoc.element.helmet.contentSecurityPolicy">
        function <span class="apidocSignatureSpan">helmet.</span>contentSecurityPolicy
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function csp(options) {
  checkOptions(options)

  var originalDirectives = camelize(options.directives || {})
  var directivesAreDynamic = containsFunction(originalDirectives)
  var shouldBrowserSniff = options.browserSniff !== false
  var reportOnlyIsFunction = isFunction(options.reportOnly)

  if (shouldBrowserSniff) {
    return function csp (req, res, next) {
      var userAgent = req.headers['user-agent']

      var browser
      if (userAgent) {
        browser = platform.parse(userAgent)
      } else {
        browser = {}
      }

      var headerKeys
      if (options.setAllHeaders || !userAgent) {
        headerKeys = config.allHeaders
      } else {
        headerKeys = getHeaderKeysForBrowser(browser, options)
      }

      if (headerKeys.length === 0) {
        next()
        return
      }

      var directives = transformDirectivesForBrowser(browser, originalDirectives)

      if (directivesAreDynamic) {
        directives = parseDynamicDirectives(directives, [req, res])
      }

      var policyString = cspBuilder({ directives: directives })

      headerKeys.forEach(function (headerKey) {
        if ((reportOnlyIsFunction &amp;&amp; options.reportOnly(req, res)) ||
            (!reportOnlyIsFunction &amp;&amp; options.reportOnly)) {
          headerKey += '-Report-Only'
        }
        res.setHeader(headerKey, policyString)
      })

      next()
    }
  } else {
    var headerKeys
    if (options.setAllHeaders) {
      headerKeys = config.allHeaders
    } else {
      headerKeys = ['Content-Security-Policy']
    }

    return function csp (req, res, next) {
      var directives = parseDynamicDirectives(originalDirectives, [req, res])
      var policyString = cspBuilder({ directives: directives })

      if ((reportOnlyIsFunction &amp;&amp; options.reportOnly(req, res)) ||
          (!reportOnlyIsFunction &amp;&amp; options.reportOnly)) {
        headerKeys.forEach(function (headerKey) {
          res.setHeader(headerKey + '-Report-Only', policyString)
        })
      } else {
        headerKeys.forEach(function (headerKey) {
          res.setHeader(headerKey, policyString)
        })
      }

      next()
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.helmet.dnsPrefetchControl" id="apidoc.element.helmet.dnsPrefetchControl">
        function <span class="apidocSignatureSpan">helmet.</span>dnsPrefetchControl
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function dnsPrefetchControl(options) {
  if (options &amp;&amp; options.allow) {
    return function dnsPrefetchControl (req, res, next) {
      res.setHeader('X-DNS-Prefetch-Control', 'on')
      next()
    }
  } else {
    return function dnsPrefetchControl (req, res, next) {
      res.setHeader('X-DNS-Prefetch-Control', 'off')
      next()
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.helmet.frameguard" id="apidoc.element.helmet.frameguard">
        function <span class="apidocSignatureSpan">helmet.</span>frameguard
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function frameguard(options) {
  options = options || {}

  var domain = options.domain
  var action = options.action

  var directive
  if (action === undefined) {
    directive = 'SAMEORIGIN'
  } else if (isString(action)) {
    directive = action.toUpperCase()
  }

  if (directive === 'ALLOWFROM') {
    directive = 'ALLOW-FROM'
  } else if (directive === 'SAME-ORIGIN') {
    directive = 'SAMEORIGIN'
  }

  if (['DENY', 'ALLOW-FROM', 'SAMEORIGIN'].indexOf(directive) === -1) {
    throw new Error('action must be undefined, "DENY", "ALLOW-FROM", or "SAMEORIGIN".')
  }

  if (directive === 'ALLOW-FROM') {
    if (!isString(domain)) {
      throw new Error('ALLOW-FROM action requires a domain parameter.')
    }
    if (!domain.length) {
      throw new Error('domain parameter must not be empty.')
    }
    directive = 'ALLOW-FROM ' + domain
  }

  return function frameguard (req, res, next) {
    res.setHeader('X-Frame-Options', directive)
    next()
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

It's best to `use` Helmet early in your middleware stack so that its headers are sure to be set.

You can also use its pieces individually:

```js
app.use(helmet.noCache())
app.use(helmet.<span class="apidocCodeKeywordSpan">frameguard</span>())
```

You can disable a middleware that's normally enabled by default. This will disable `frameguard` but include the other defaults
.

```js
app.use(helmet({
frameguard: false
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.helmet.hidePoweredBy" id="apidoc.element.helmet.hidePoweredBy">
        function <span class="apidocSignatureSpan">helmet.</span>hidePoweredBy
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hidePoweredBy(options) {
  var setTo = (options || {}).setTo

  if (setTo) {
    return function hidePoweredBy (req, res, next) {
      res.setHeader('X-Powered-By', setTo)
      next()
    }
  } else {
    return function hidePoweredBy (req, res, next) {
      res.removeHeader('X-Powered-By')
      next()
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.helmet.hpkp" id="apidoc.element.helmet.hpkp">
        function <span class="apidocSignatureSpan">helmet.</span>hpkp
        <span class="apidocSignatureSpan">(passedOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hpkp(passedOptions) {
  var options = parseOptions(passedOptions)
  var headerKey = getHeaderKey(options)
  var headerValue = getHeaderValue(options)

  return function hpkp (req, res, next) {
    var setHeader = true
    var setIf = options.setIf

    if (setIf) {
      setHeader = setIf(req, res)
    }

    if (setHeader) {
      res.setHeader(headerKey, headerValue)
    }

    next()
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.helmet.hsts" id="apidoc.element.helmet.hsts">
        function <span class="apidocSignatureSpan">helmet.</span>hsts
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hsts(options) {
  options = options || {}

  var maxAge = options.maxAge != null ? options.maxAge : defaultMaxAge
  var includeSubDomains = (options.includeSubDomains !== false) &amp;&amp; (options.includeSubdomains !== false)
  var force = options.force
  var setIf = options.setIf

  if (options.hasOwnProperty('maxage')) {
    throw new Error('maxage is not a supported property. Did you mean to pass "maxAge" instead of "maxage"?')
  }
  if (arguments.length &gt; 1) {
    throw new Error('HSTS passed the wrong number of arguments.')
  }
  if (!util.isNumber(maxAge)) {
    throw new TypeError('HSTS must be passed a numeric maxAge parameter.')
  }
  if (maxAge &lt; 0) {
    throw new RangeError('HSTS maxAge must be nonnegative.')
  }
  if (options.hasOwnProperty('setIf')) {
    if (!util.isFunction(setIf)) {
      throw new TypeError('setIf must be a function.')
    }
    if (options.hasOwnProperty('force')) {
      throw new Error('setIf and force cannot both be specified.')
    }
  }
  if (options.hasOwnProperty('includeSubDomains') &amp;&amp; options.hasOwnProperty('includeSubdomains')) {
    throw new Error('includeSubDomains and includeSubdomains cannot both be specified.')
  }

  var header = 'max-age=' + Math.round(maxAge)
  if (includeSubDomains) {
    header += '; includeSubDomains'
  }
  if (options.preload) {
    header += '; preload'
  }

  return function hsts (req, res, next) {
    var setHeader
    if (setIf) {
      setHeader = setIf(req, res)
    } else {
      setHeader = force || req.secure
    }

    if (setHeader) {
      res.setHeader('Strict-Transport-Security', header)
    }

    next()
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.helmet.ieNoOpen" id="apidoc.element.helmet.ieNoOpen">
        function <span class="apidocSignatureSpan">helmet.</span>ieNoOpen
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ienoopen() {
  return function ienoopen (req, res, next) {
    res.setHeader('X-Download-Options', 'noopen')
    next()
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.helmet.noCache" id="apidoc.element.helmet.noCache">
        function <span class="apidocSignatureSpan">helmet.</span>noCache
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function nocache() {
  return function nocache (req, res, next) {
    res.setHeader('Surrogate-Control', 'no-store')
    res.setHeader('Cache-Control', 'no-store, no-cache, must-revalidate, proxy-revalidate')
    res.setHeader('Pragma', 'no-cache')
    res.setHeader('Expires', '0')

    next()
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

It's best to `use` Helmet early in your middleware stack so that its headers are sure to be set.

You can also use its pieces individually:

```js
app.use(helmet.<span class="apidocCodeKeywordSpan">noCache</span>())
app.use(helmet.frameguard())
```

You can disable a middleware that's normally enabled by default. This will disable `frameguard` but include the other defaults
.

```js
app.use(helmet({
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.helmet.noSniff" id="apidoc.element.helmet.noSniff">
        function <span class="apidocSignatureSpan">helmet.</span>noSniff
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function nosniff() {
  return function nosniff (req, res, next) {
    res.setHeader('X-Content-Type-Options', 'nosniff')
    next()
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.helmet.referrerPolicy" id="apidoc.element.helmet.referrerPolicy">
        function <span class="apidocSignatureSpan">helmet.</span>referrerPolicy
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function referrerPolicy(options) {
  options = options || {}

  var policy
  if ('policy' in options) {
    policy = options.policy
  } else {
    policy = DEFAULT_POLICY
  }

  if (ALLOWED_POLICIES.indexOf(policy) === -1) {
    throw new Error('"' + policy + '" is not a valid policy. Allowed policies: ' + ALLOWED_POLICIES_ERROR_LIST + '.')
  }

  return function referrerPolicy (req, res, next) {
    res.setHeader('Referrer-Policy', policy)
    next()
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.helmet.xssFilter" id="apidoc.element.helmet.xssFilter">
        function <span class="apidocSignatureSpan">helmet.</span>xssFilter
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function xXssProtection(options) {
  if (options &amp;&amp; options.setOnOldIE) {
    return function xXssProtection (req, res, next) {
      res.setHeader('X-XSS-Protection', '1; mode=block')
      next()
    }
  } else {
    return function xXssProtection (req, res, next) {
      var matches = /msie\s*(\d+)/i.exec(req.headers['user-agent'])

      var value
      if (!matches || (parseFloat(matches[1]) &gt;= 9)) {
        value = '1; mode=block'
      } else {
        value = '0'
      }

      res.setHeader('X-XSS-Protection', value)
      next()
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>